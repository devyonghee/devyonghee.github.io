---
title: 이펙티브 자바 Chapter9. 일반적인 프로그래밍 원칙
tags: [book, effective-java]
categories: book
---


이펙티브 자바 8장에서는 지역변수, 제어구조, 라이브러리 등    
자바 언어 핵심 요소에 대해 소개한다.

<!--more-->

<br/>

## 아이템 57. 지역변수의 범위를 최소화하라 

- 지역 변수는 처음 쓰일 때 선언하라
  - 미리 선언하면 코드가 어수선, 초기값 기억 못함
- 모든 지역변수는 선언과 동시에 초기화
  - `try-catch` 문은 예외   
- 변수의 값을 반복문이 종료되어도 사용하는 상황이 아니라면 `while` 보다 `for` 문 사용
  - `for` 키워드는 반복변수의 범위를 최소화
- 메서드를 작게 유지하고 한가지 기능에 집중하여 지역범위 최소화


<br/>

## 아이템 58. 전통적인 `for`문 보다는 `for-each` 문을 사용하라

`for-each`문은 반복자와 인덱스 변수를 사용하지 않아 코드가 깔끔하고 오류 예방  
성능 저하도 없기 때문에 가능하면 `for`문 보다는 `for-each` 이용

### `for-each` 사용할 수 없는 경우
- 파괴적인 필터링(destructive filtering)
  - 특정 원소를 제거하는 경우 반복자의 `remove` 메서드 호출 불가
  - `Collection`의 `removeIf` 메서드를 이용할 순 있음
- 변형 (transforming)
  - 원소의 값을 교체해야 한다면 반복자나 인덱스 사용 필요  
- 병력 반복(parallel iteration)
  - 병렬로 순회해야 한다면 반복자와 인덱스 변수를 사용해 명시적으로 제어해야 함
  
<br/>

## 아이템 59. 라이브러리를 익히고 사용하라

- 메이저 릴리즈마다 주목할 만한 기능들이 라이브러리에 추가 되므로 관심을 가져야 함 
- `java.lang`, `java.util`, `java.io` 와 하위 패키지들에 익숙해져라
  - 그 외에 컬렉션, 스트림, `java.util.concurrent` 도 익히면 좋음
- 자바 표준 라이브러리에서 원하는 기능을 찾지 못했다면 서드파티 라이브러리를 선택  

### 라이브러리 사용 장점
- 표준 라이브러리를 사용하면 전문가의 지식과 다른 프로그래머의 경험을 활용 가능  
- 핵심적인 일과 관련없는 문제 해결 시간을 허비하지 않아도 됨  
- 따로 노력하지 않아도 성능이 지속적으로 개선
- 기능이 점점 많아짐
- 작성된 코드가 많은 사람에게 낯익은 코드가 됨 (가독성, 유지보수, 재활용)

<br/>

## 아이템 60. 정확한 답이 필요하다면 `float` 와 `double` 은 피하라

- `float` 와 `double`은 정확한 계산을 필요로할 때 사용하면 안됨
- 정확한 계산을 하려면 `BigDecimal`, `int`, `long` 이용해야 한다.
  - 아홉자리 십진수 : `int` 
  - 열 여덟자리 십진수 : `long` 
  - 열 여덟자리 이상 : `BigDecimal`
    
### BigDecimal 단점
- 기본 타입보다 사용이 불편
- 기본 타입보다 훨씬 느림

<br/>

## 아이템 61. 박싱된 기본 타입보다는 기본 타입을 사용하라

### 기본 타입과 박싱된 기본 타입 차이점
- 기본 타입은 값만 갖고 있지만, 박싱된 기본 타입은 값과 식별성을 가짐
  - 박싱된 기본타입으로 `==` 연산자 사용하면 오류 발생 
- 박싱된 기본 타입은 `null` 허용
  - 두 타입을 혼용해서 연산하면 박싱이 자동으로 풀리면서 `NullPointerException` 발생
- 기본 타입이 시간과 메모리 사용면에서 더 효율적

### 박싱된 기본 타입이 필요한 경우
- 컬렉션의 원소, 키, 값과 타입 매개변수로 사용
- 리플렉션을 통해 메서드를 호출하는 경우


<br/>

## 아이템 62. 다른 타입이 적절하다면 문자열 사용을 피하라

문자열을 잘못 사용하면 코드도 복잡해지고, 느리고, 오류도 쉽게 발생된다.

- 문자열은 **다른 값 타입**을 대신하기에 적합하지 않다.
  - 수치형 데이터라면 `int`, `float`, `BigInteger` 사용
  - 질문의 답이라면 열거 타입이나 `boolean` 사용
  
- 문자열은 **열거 타입**을 대신하기에 적합하지 않다.
  - 상수를 열거할 때는 열거 타입
  
- 문자열은 **혼합 타입**을 대신하기에 적합하지 않다.
  - 구분자를 넣어서 여러 요소를 문자로 표현하면 느리고 오류도 쉽게 발생 
  
- 문자열은 **권한**을 표현하기에 적합하지 않다.
  - 같은 키를 사용하게 된다면 의도치 않은 값을 공유
  - 악의적으로 다른 클라이언트의 값을 가져올 수 있어 보안 취약

